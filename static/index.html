<html lang="en">
	<head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <title>Habit Calendar</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Disable caching for the page -->
        <meta http-equiv="cache-control" content="max-age=0">
        <meta http-equiv="cache-control" content="no-cache">
        <meta http-equiv="expires" content="0">
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT">
        <meta http-equiv="pragma" content="no-cache">

        <link rel="stylesheet" type="text/css" href="css/bootstrap-2.3.2.css">
		<link rel='stylesheet' type='text/css' href='css/jquery-ui.min.css'/>
		<link rel='stylesheet' type='text/css' href='css/fullcalendar.css'/>
        <link rel="stylesheet" type="text/css" href="css/main.css" />

        <script data-main="js/main" src="js/libs/requirejs/require.js"></script>
	</head>
	<body>
        <!-- TODO make this an actual habit template!! -->
        <div id="habit-area"></div>
        <div id='page-container'>
		    <div id='summary'></div>		
            <div id='calendar'></div>		
        </div>		

        <!-- move this into the template itself and use className -->
        <div id="habit-list"></div>
		<div id='event-details' class='modal fade' role="dialog">
		</div>		
	</body>
</html>

<script id="habit-template" type="text/html">
    <% if(id) { %>
    <div id="habit-type-<%- id %>">
        <label for="color-picker-<%- id %>" habit="<%- id %>"><%- name %></label>
        <select id="color-picker-<%- id %>" class="bg-<%- color %>">
            <option value="green" class="bg-green" <%- ( color == 'green' ? 'selected="selected"' : '' ) %> >Green</option>
            <option value="orange" class="bg-orange" <%- ( color == 'orange' ? 'selected="selected"' : '' ) %> >Orange</option>
            <option value="pink" class="bg-pink" <%- ( color == 'pink' ? 'selected="selected"' : '' ) %> >Pink</option>
            <option value="light-blue" class="bg-light-blue" <%- ( color == 'light-blue' ? 'selected="selected"' : '' ) %> >Light Blue</option>
            <option value="dark-blue" class="bg-dark-blue" <%- ( color == 'dark-blue' ? 'selected="selected"' : '' ) %> >Dark Blue</option>
        </select>
    </div>
    <% } %>
</script>
<!-- 
Using IDs here is ok, because we are only creating one copy
But soon we'll be sharing the template with other views
-->
<script id="summary-template" type="text/html">
    <% if(type !== null ) { %>
    <div class = "panel panel-default">
        <div class = "panel-heading">
            <h3 class = "panel-title"><%= typeof start === 'undefined' ? '' : start %></h3>
            <h1><%- habit.name %><h1>
        </div>

        <div class = "panel-body">
            <form>
                <!-- add unique ids here, so I can place a label for -->
                <div class="form-group">
                <% for (var bKey in habit.behaviors) { %>
                    <div class="checkbox disabled">
                        <label><input type="checkbox" id="summary-<%- bKey %>" value="" <%= behaviors[bKey] ? 'checked="checked"' : '' %> disabled ><%- habit.behaviors[bKey].desc  %></label>
                    </div>
                <% } %>
                </div>
            </form>
        </div>
    </div>
    <% } %>
</script>

<!-- TODO MAKE THESE IDS GLOBALLY UNIQUE OR USE CLASSES -->
<script id="create-template" type="text/html">
    <div class="modal-dialog">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title new">New Event</h4>
        </div>
        <div class="modal-body">
            <form>
                <input id="habit-type" type="number" min="0" max="3" value="<%- type %>" style="display: none;" />
                <div class="form-group">
                <% for (var bKey in habit.behaviors) { %>
                    <div class="checkbox disabled">
                        <label><input type="checkbox" id="<%- bKey %>" ><%- habit.behaviors[bKey].desc %></label>
                    </div>
                <% } %>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default save-event" data-dismiss="modal">Save</button>
            <button type="button" class="btn btn-default delete-event" data-dismiss="modal">Delete</button>
        </div>
    </div>
</script>
